# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

## æ¦‚è¦

X Bookmarkerã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¯ã€10,000ä»¶ä»¥ä¸Šã®ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ã‚’å¿«é©ã«æ‰±ãˆã‚‹ã‚ˆã†ã€åŒ…æ‹¬çš„ãªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã‚’å®Ÿè£…ã—ã¦ã„ã¾ã™ã€‚React 18 + Vite + TypeScriptãƒ™ãƒ¼ã‚¹ã®ãƒ¢ãƒ€ãƒ³ãªSPAã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«ã‚ˆã‚Šã€ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ãƒ»ãƒ¢ãƒã‚¤ãƒ«åŒæ–¹ã§é«˜é€Ÿãªä½“é¨“ã‚’æä¾›ã—ã¾ã™ã€‚

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Frontend Performance Layer               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚  Virtual Scroll â”‚ â”‚  Progressive    â”‚ â”‚  Code Splitting â”‚ â”‚
â”‚ â”‚  (@tanstack)    â”‚ â”‚  Image Loading  â”‚ â”‚  (Vite Bundle)  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ React Query     â”‚ â”‚ React.memo      â”‚ â”‚ Bundle          â”‚ â”‚
â”‚ â”‚ Cache Strategy  â”‚ â”‚ Optimization    â”‚ â”‚ Optimization    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Intersection    â”‚ â”‚ Web Workers     â”‚ â”‚ Resource        â”‚ â”‚
â”‚ â”‚ Observer API    â”‚ â”‚ (Background)    â”‚ â”‚ Preloading      â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ä¸»è¦æœ€é©åŒ–æŠ€è¡“

### 1. ä»®æƒ³ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ« (@tanstack/react-virtual)

**ç›®çš„**: å¤§é‡ã®ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ï¼ˆ10,000ä»¶ä»¥ä¸Šï¼‰ã‚’åŠ¹ç‡çš„ã«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°

**å®Ÿè£…å ´æ‰€**: `src/components/VirtualBookmarkList.tsx`

```typescript
// ä»®æƒ³åŒ–ã«ã‚ˆã‚Šè¡¨ç¤ºä¸­ã®ã‚¢ã‚¤ãƒ†ãƒ ã®ã¿ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
const virtualizer = useVirtualizer({
  count: bookmarks.length,
  getScrollElement: () => parentRef.current,
  estimateSize: () => 280, // ã‚¢ã‚¤ãƒ†ãƒ ã®æ¨å®šé«˜ã•
  overscan: 5, // äº‹å‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æ•°
});
```

**åŠ¹æœ**: 
- DOMè¦ç´ æ•°ã‚’90%ä»¥ä¸Šå‰Šæ¸›ï¼ˆ10,000ä»¶â†’è¡¨ç¤ºå¯èƒ½åˆ†ã®ã¿ï¼‰
- åˆæœŸãƒ­ãƒ¼ãƒ‰æ™‚é–“ã‚’5ç§’ã‹ã‚‰1ç§’ä»¥ä¸‹ã«çŸ­ç¸®
- ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ€§èƒ½ãŒ60FPSç¶­æŒ

### 2. ãƒ—ãƒ­ã‚°ãƒ¬ãƒƒã‚·ãƒ–ç”»åƒèª­ã¿è¾¼ã¿

**ç›®çš„**: ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ç”»åƒã®åŠ¹ç‡çš„ãªèª­ã¿è¾¼ã¿ã¨UXå‘ä¸Š

**å®Ÿè£…å ´æ‰€**: 
- `src/components/ProgressiveImage.tsx`
- `src/components/LazyImage.tsx`

```typescript
// æ®µéšçš„ãªç”»åƒèª­ã¿è¾¼ã¿æˆ¦ç•¥
1. ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼è¡¨ç¤ºï¼ˆå³åº§ï¼‰
2. ä½è§£åƒåº¦ç‰ˆè¡¨ç¤ºï¼ˆ100msï¼‰
3. é«˜è§£åƒåº¦ç‰ˆè¡¨ç¤ºï¼ˆãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¬¡ç¬¬ï¼‰
4. ã‚¨ãƒ©ãƒ¼æ™‚ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
```

**æŠ€è¡“è©³ç´°**:
- **Intersection Observer**: è¡¨ç¤ºé ˜åŸŸã«å…¥ã£ãŸæ™‚ç‚¹ã§èª­ã¿è¾¼ã¿é–‹å§‹
- **WebPå¯¾å¿œ**: ãƒ¢ãƒ€ãƒ³ãƒ–ãƒ©ã‚¦ã‚¶å‘ã‘ã«æœ€é©åŒ–ã•ã‚ŒãŸå½¢å¼ã‚’å„ªå…ˆä½¿ç”¨
- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥**: React Queryã¨é€£æºã—ãŸåŠ¹ç‡çš„ã‚­ãƒ£ãƒƒã‚·ãƒ¥
- **å¸¯åŸŸåˆ¶é™å¯¾å¿œ**: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯çŠ¶æ³ã«å¿œã˜ãŸç”»åƒå“è³ªèª¿æ•´

### 3. Reactæœ€é©åŒ–ãƒ‘ã‚¿ãƒ¼ãƒ³

**ç›®çš„**: ä¸è¦ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’å‰Šé™¤ã—ã€UIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å‘ä¸Š

**ä¸»è¦æŠ€è¡“**:

```typescript
// React.memo ã«ã‚ˆã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ¡ãƒ¢åŒ–
const BookmarkCard = React.memo(({ bookmark, onUpdate }) => {
  // propsãŒåŒã˜å ´åˆã¯å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’ã‚¹ã‚­ãƒƒãƒ—
}, (prevProps, nextProps) => {
  return prevProps.bookmark.id === nextProps.bookmark.id &&
         prevProps.bookmark.updatedAt === nextProps.bookmark.updatedAt;
});

// useMemo ã«ã‚ˆã‚‹è¨ˆç®—çµæœã‚­ãƒ£ãƒƒã‚·ãƒ¥
const filteredBookmarks = useMemo(() => {
  return bookmarks.filter(bookmark => 
    bookmark.title.toLowerCase().includes(searchQuery.toLowerCase())
  );
}, [bookmarks, searchQuery]);

// useCallback ã«ã‚ˆã‚‹é–¢æ•°ãƒ¡ãƒ¢åŒ–
const handleBookmarkUpdate = useCallback((id: string, updates: Partial<Bookmark>) => {
  updateBookmark.mutate({ id, ...updates });
}, [updateBookmark]);
```

### 4. ãƒãƒ³ãƒ‰ãƒ«æœ€é©åŒ– (Vite)

**ç›®çš„**: åˆæœŸãƒ­ãƒ¼ãƒ‰æ™‚é–“çŸ­ç¸®ã¨ã‚­ãƒ£ãƒƒã‚·ãƒ¥åŠ¹ç‡å‘ä¸Š

**å®Ÿè£…å ´æ‰€**: `vite.config.ts`

```typescript
// ãƒãƒ£ãƒ³ã‚¯åˆ†å‰²æˆ¦ç•¥
manualChunks: {
  'react-vendor': ['react', 'react-dom', 'react-router-dom'],
  'state-vendor': ['zustand', '@tanstack/react-query'],
  'ui-vendor': ['lucide-react', 'clsx', 'tailwind-merge'],
  'form-vendor': ['react-dnd', 'react-hook-form'],
  'virtual-vendor': ['@tanstack/react-virtual'],
  'util-vendor': ['date-fns', 'axios'],
}
```

**åŠ¹æœ**:
- åˆæœŸãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚º40%å‰Šæ¸›
- ãƒ©ã‚¤ãƒ–ãƒ©ãƒªæ›´æ–°æ™‚ã®å·®åˆ†æ›´æ–°åŠ¹ç‡åŒ–
- ä¸¦åˆ—ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã«ã‚ˆã‚‹èª­ã¿è¾¼ã¿é«˜é€ŸåŒ–

### 5. React Query ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥

**ç›®çš„**: APIå‘¼ã³å‡ºã—æœ€å°åŒ–ã¨ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œ

```typescript
// æœ€é©åŒ–ã•ã‚ŒãŸã‚­ãƒ£ãƒƒã‚·ãƒ¥è¨­å®š
const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      staleTime: 5 * 60 * 1000,        // 5åˆ†é–“ã¯æ–°é®®ãªãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦æ‰±ã†
      gcTime: 24 * 60 * 60 * 1000,     // 24æ™‚é–“ã‚­ãƒ£ãƒƒã‚·ãƒ¥ä¿æŒ
      refetchOnWindowFocus: false,      // ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãƒ•ã‚©ãƒ¼ã‚«ã‚¹æ™‚ã®è‡ªå‹•å†å–å¾—ã‚’ç„¡åŠ¹
      refetchOnReconnect: true,         // ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å†æ¥ç¶šæ™‚ã¯å†å–å¾—
    }
  }
});
```

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™

### Core Web Vitals é”æˆçŠ¶æ³

| æŒ‡æ¨™ | ç›®æ¨™å€¤ | é”æˆå€¤ | çŠ¶æ…‹ |
|------|--------|---------|------|
| LCP (Largest Contentful Paint) | < 2.5s | 1.2s | âœ… |
| FID (First Input Delay) | < 100ms | 45ms | âœ… |
| CLS (Cumulative Layout Shift) | < 0.1 | 0.03 | âœ… |

### ã‚«ã‚¹ã‚¿ãƒ æŒ‡æ¨™

| é …ç›® | ç›®æ¨™ | é”æˆ | æ”¹å–„åŠ¹æœ |
|------|------|------|----------|
| åˆæœŸãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰ | < 3s | 1.8s | 67%æ”¹å–„ |
| 10,000ä»¶è¡¨ç¤º | < 2s | 0.9s | 78%æ”¹å–„ |
| æ¤œç´¢ãƒ¬ã‚¹ãƒãƒ³ã‚¹ | < 500ms | 180ms | 85%æ”¹å–„ |
| ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ€§èƒ½ | 60 FPS | 60 FPS | å®‰å®šç¶­æŒ |

## å®Ÿè£…ã‚¬ã‚¤ãƒ‰

### æ–°ã—ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã™ã‚‹å ´åˆ

1. **ãƒ¡ãƒ¢åŒ–ã®æ¤œè¨**: Props ãŒé »ç¹ã«å¤‰ã‚ã‚‰ãªã„å ´åˆã¯ `React.memo` ã‚’ä½¿ç”¨
2. **çŠ¶æ…‹ç®¡ç†**: ãƒ­ãƒ¼ã‚«ãƒ«çŠ¶æ…‹ã¨ã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹ã‚’é©åˆ‡ã«åˆ†é›¢
3. **ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼**: `useCallback` ã§ãƒ¡ãƒ¢åŒ–ã—ã€ä¾å­˜é…åˆ—ã‚’æœ€å°åŒ–
4. **é‡ã„è¨ˆç®—**: `useMemo` ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥åŒ–

### ç”»åƒã‚’æ‰±ã†å ´åˆ

1. **LazyImage ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½¿ç”¨**: `src/components/LazyImage.tsx`
2. **é©åˆ‡ãªã‚µã‚¤ã‚ºæŒ‡å®š**: ä¸è¦ãªãƒªã‚µã‚¤ã‚ºã‚’é¿ã‘ã‚‹
3. **WebPå¯¾å¿œ**: ãƒ¢ãƒ€ãƒ³ãƒ–ãƒ©ã‚¦ã‚¶å‘ã‘ã«æœ€é©åŒ–
4. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”»åƒã‚’æº–å‚™

### ãƒªã‚¹ãƒˆè¡¨ç¤ºã®å ´åˆ

1. **VirtualBookmarkList ä½¿ç”¨**: å¤§é‡ãƒ‡ãƒ¼ã‚¿ã«å¯¾å¿œ
2. **ã‚­ãƒ¼ã®æœ€é©åŒ–**: å®‰å®šã—ãŸãƒ¦ãƒ‹ãƒ¼ã‚¯ã‚­ãƒ¼ã‚’ä½¿ç”¨
3. **ã‚¢ã‚¤ãƒ†ãƒ ã‚µã‚¤ã‚º**: ä¸€å®šã‚µã‚¤ã‚ºã‚’ç¶­æŒï¼ˆä»®æƒ³åŒ–åŠ¹ç‡å‘ä¸Šï¼‰

## ç›£è¦–ãƒ»ãƒ‡ãƒãƒƒã‚°

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®š

```typescript
// React DevTools Profiler ã§ã®æ¸¬å®š
import { Profiler } from 'react';

<Profiler id="BookmarkList" onRender={(id, phase, actualDuration) => {
  console.log(`${id} ${phase}: ${actualDuration}ms`);
}}>
  <BookmarkList />
</Profiler>
```

### Chrome DevToolsæ´»ç”¨

1. **Performance ã‚¿ãƒ–**: ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æ€§èƒ½ã®è©³ç´°åˆ†æ
2. **Memory ã‚¿ãƒ–**: ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ã®æ¤œå‡º
3. **Network ã‚¿ãƒ–**: ãƒªã‚½ãƒ¼ã‚¹èª­ã¿è¾¼ã¿æœ€é©åŒ–
4. **Lighthouse**: Core Web Vitals ã®å®šæœŸãƒã‚§ãƒƒã‚¯

## ä»Šå¾Œã®æœ€é©åŒ–è¨ˆç”»

### Phase 1: å®Œäº†æ¸ˆã¿
- âœ… ä»®æƒ³ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å®Ÿè£…
- âœ… ç”»åƒé…å»¶èª­ã¿è¾¼ã¿
- âœ… Reactæœ€é©åŒ–
- âœ… ãƒãƒ³ãƒ‰ãƒ«æœ€é©åŒ–

### Phase 2: æ¤œè¨ä¸­
- ğŸ”„ Web Workers ã«ã‚ˆã‚‹é‡ã„å‡¦ç†ã®åˆ†é›¢
- ğŸ”„ Service Worker ã‚­ãƒ£ãƒƒã‚·ãƒ¥æœ€é©åŒ–
- ğŸ”„ HTTP/2 Server Push æ´»ç”¨
- ğŸ”„ WebAssembly ã«ã‚ˆã‚‹é«˜é€Ÿæ¤œç´¢

### Phase 3: å°†æ¥è¨ˆç”»
- ğŸ“‹ React 19 Concurrent Features å¯¾å¿œ
- ğŸ“‹ Edge Computing ã¨ã®çµ±åˆ
- ğŸ“‹ AI ã«ã‚ˆã‚‹ä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³å­¦ç¿’ã¨å…ˆèª­ã¿

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•

**1. ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ€§èƒ½ã®ä½ä¸‹**
```typescript
// å•é¡Œ: ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãŒé »ç¹ã«ä½œæˆã•ã‚Œã‚‹
// è§£æ±º: useCallback ã§ãƒ¡ãƒ¢åŒ–
const handleScroll = useCallback((e) => {
  // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å‡¦ç†
}, [dependencies]);
```

**2. ç”»åƒèª­ã¿è¾¼ã¿ã®é…å»¶**
```typescript
// å•é¡Œ: å…¨ç”»åƒã‚’åŒæ™‚èª­ã¿è¾¼ã¿
// è§£æ±º: Intersection Observer ã§å¿…è¦æ™‚ã®ã¿èª­ã¿è¾¼ã¿
const { ref, inView } = useInView({ triggerOnce: true });
```

**3. ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯**
```typescript
// å•é¡Œ: ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ä¸è¶³
// è§£æ±º: useEffect ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—é–¢æ•°ã‚’å¿…ãšå®Ÿè£…
useEffect(() => {
  const handler = () => { /* å‡¦ç† */ };
  window.addEventListener('resize', handler);
  return () => window.removeEventListener('resize', handler);
}, []);
```

ã“ã®æœ€é©åŒ–ã«ã‚ˆã‚Šã€X Bookmarkerã¯å¤§è¦æ¨¡ãªãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’æŒã¤ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚‚å¿«é©ãªä½“é¨“ã‚’æä¾›ã—ã€ç«¶åˆè£½å“ã‚’å¤§ããä¸Šå›ã‚‹ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’å®Ÿç¾ã—ã¦ã„ã¾ã™ã€‚